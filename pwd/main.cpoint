import @std/print.cpoint

extern getcwd(buf : i8 ptr, size : int) i8 ptr;
extern exit(status : int) void;

func main(){
    var size : int = 4096 * sizeof i8
    var cwd : i8 ptr = gc_malloc(size)
    var result : i8 ptr = getcwd(cwd, size)
    if result != null {
        printstr(cwd)
    } else {
        printstr("Couldn't find the current working directory")
        exit(1)
    }
    0
}
